<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>تمرين التحليل الاستراتيجي التفاعلي</title>
    <style>
        :root {
            --primary: #2c3e50;
            --accent: #3498db;
            --success: #27ae60;
            --bg: #f4f7f6;
        }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background-color: var(--bg); color: var(--primary); margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; background: white; padding: 30px; border-radius: 15px; box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        h1, h2 { text-align: center; color: var(--primary); }
        .case-study { background: #eef2f3; padding: 20px; border-right: 5px solid var(--accent); margin-bottom: 30px; border-radius: 5px; }
        .exercise-section { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .items-box { border: 2px dashed #bdc3c7; padding: 15px; border-radius: 10px; min-height: 200px; }
        .draggable { background: white; border: 1px solid #ddd; padding: 10px; margin: 8px 0; cursor: grab; border-radius: 5px; box-shadow: 2px 2px 5px rgba(0,0,0,0.05); transition: 0.3s; }
        .draggable:hover { background: #f0f0f0; }
        .drop-zone { background: #f9f9f9; border: 2px solid var(--accent); padding: 15px; border-radius: 10px; min-height: 100px; margin-bottom: 10px; }
        .drop-zone h3 { margin-top: 0; font-size: 1rem; color: var(--accent); }
        button { display: block; width: 100%; padding: 15px; background: var(--success); color: white; border: none; border-radius: 8px; font-size: 1.1rem; cursor: pointer; margin-top: 20px; }
        button:hover { background: #219150; }
        #result { margin-top: 20px; font-weight: bold; text-align: center; font-size: 1.2rem; }
        .feedback { font-size: 0.9rem; color: #666; margin-top: 10px; display: none; }
    </style>
</head>
<body>

<div class="container">
    <h1>تمرين تفاعلي: SWOT & PESTEL</h1>
    
    <div class="case-study">
        <h3>الحالة التطبيقية: شركة "نور" للطاقة المتجددة</h3>
        <p>شركة ناشئة تهدف لتوفير ألواح شمسية ذكية. تواجه الشركة: قوانين حكومية داعمة للبيئة، نقص في السيولة النقدية، ارتفاع تكلفة المواد الخام عالمياً، وامتلاكها براءة اختراع لتقنية تخزين طاقة مبتكرة.</p>
    </div>

    <div class="exercise-section">
        <div>
            <h3>العوامل (اسحب العنصر للمكان الصحيح):</h3>
            <div id="items" class="items-box">
                <div class="draggable" draggable="true" id="item1" data-type="PESTEL">قوانين حماية البيئة الجديدة</div>
                <div class="draggable" draggable="true" id="item2" data-type="SWOT-S">براءة اختراع حصرية</div>
                <div class="draggable" draggable="true" id="item3" data-type="SWOT-W">ضعف رأس المال الحالي</div>
                <div class="draggable" draggable="true" id="item4" data-type="PESTEL">تضخم أسعار الشحن عالمياً</div>
            </div>
        </div>

        <div>
            <div class="drop-zone" id="pestel-zone" data-target="PESTEL">
                <h3>إطار PESTEL (عوامل خارجية)</h3>
            </div>
            <div class="drop-zone" id="swot-zone" data-target="SWOT">
                <h3>إطار SWOT (نقاط داخلية)</h3>
            </div>
        </div>
    </div>

    <button onclick="checkResult()">تحقق من الإجابة</button>
    <div id="result"></div>
    <div id="solution" class="feedback">
        <strong>الحل الصحيح:</strong> <br>
        - PESTEL: قوانين البيئة (سياسي/قانوني)، تضخم الأسعار (اقتصادي). <br>
        - SWOT: براءة الاختراع (نقطة قوة S)، ضعف السيولة (نقطة ضعف W).
    </div>
</div>

<script>
    const draggables = document.querySelectorAll('.draggable');
    const containers = document.querySelectorAll('.drop-zone');

    draggables.forEach(draggable => {
        draggable.addEventListener('dragstart', () => {
            draggable.classList.add('dragging');
        });

        draggable.addEventListener('dragend', () => {
            draggable.classList.remove('dragging');
        });
    });

    containers.forEach(container => {
        container.addEventListener('dragover', e => {
            e.preventDefault();
            const draggable = document.querySelector('.dragging');
            container.appendChild(draggable);
        });
    });

    function checkResult() {
        const pestelZone = document.getElementById('pestel-zone');
        const swotZone = document.getElementById('swot-zone');
        let correct = 0;
        let total = 4;

        pestelZone.querySelectorAll('.draggable').forEach(item => {
            if(item.getAttribute('data-type') === 'PESTEL') correct++;
        });

        swotZone.querySelectorAll('.draggable').forEach(item => {
            if(item.getAttribute('data-type').startsWith('SWOT')) correct++;
        });

        const resultDiv = document.getElementById('result');
        if(correct === total) {
            resultDiv.innerHTML = "عمل رائع! " + correct + "/" + total + " إجابات صحيحة.";
            resultDiv.style.color = "green";
        } else {
            resultDiv.innerHTML = "هناك بعض الأخطاء. حصلت على " + correct + "/" + total;
            resultDiv.style.color = "red";
        }
        document.getElementById('solution').style.display = "block";
    }
</script>

</body>
</html>
