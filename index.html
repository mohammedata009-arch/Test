<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <title>ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ø°ÙƒÙŠØ§Ø¡ - Ù‚ÙˆÙ‰ Ø¨ÙˆØ±ØªØ±</title>
    <style>
        :root {
            --primary: #4834d4;
            --secondary: #22a6b3;
            --success: #6ab04c;
            --danger: #eb4d4b;
            --gold: #f1c40f;
            --light: #f9f9f9;
        }
        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            background: linear-gradient(45deg, #4834d4, #686de0, #22a6b3);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            min-height: 100vh; display: flex; justify-content: center; align-items: center; margin: 0; padding: 15px; 
        }
        @keyframes gradient { 0% {background-position: 0% 50%;} 50% {background-position: 100% 50%;} 100% {background-position: 0% 50%;} }
        
        .quiz-container { background: white; width: 100%; max-width: 650px; padding: 40px; border-radius: 30px; box-shadow: 0 25px 50px rgba(0,0,0,0.3); position: relative; }
        
        .badge { 
            position: absolute; top: -15px; left: 50%; transform: translateX(-50%);
            background: var(--gold); color: #000; padding: 5px 20px; border-radius: 20px; font-weight: bold; font-size: 0.9em; box-shadow: 0 4px 10px rgba(0,0,0,0.2);
            display: none;
        }

        h1 { color: var(--primary); text-align: center; margin-bottom: 5px; font-size: 2em; }
        .subtitle { text-align: center; color: #666; margin-bottom: 25px; font-weight: bold; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        
        .progress-bar { height: 12px; background: #eee; border-radius: 6px; margin-bottom: 25px; overflow: hidden; }
        #progress { height: 100%; background: linear-gradient(to left, var(--secondary), var(--success)); width: 0%; transition: 0.5s; }
        
        .question { font-size: 1.4em; font-weight: bold; color: #2d3436; margin-bottom: 25px; line-height: 1.6; }
        
        .options { display: grid; gap: 15px; }
        .option-btn { 
            padding: 18px; border: 2px solid #edeff2; background: var(--light); border-radius: 15px; 
            cursor: pointer; font-size: 1.1em; transition: 0.3s; text-align: right; font-weight: 500;
        }
        .option-btn:hover { border-color: var(--secondary); background: #e0f7fa; transform: translateY(-3px); box-shadow: 0 5px 15px rgba(0,0,0,0.1); }
        
        .feedback-box { margin-top: 25px; padding: 20px; border-radius: 15px; display: none; font-weight: bold; line-height: 1.5; border: 2px solid; animation: slideUp 0.4s; }
        @keyframes slideUp { from {opacity: 0; transform: translateY(20px);} to {opacity: 1; transform: translateY(0);} }
        
        .correct { background: #dff9fb; border-color: var(--success); color: #218c74; }
        .wrong { background: #ffeaa7; border-color: var(--danger); color: #b33939; }
        
        #next-btn, #whatsapp-btn { width: 100%; padding: 18px; border: none; border-radius: 15px; font-size: 1.2em; font-weight: bold; cursor: pointer; margin-top: 20px; transition: 0.3s; }
        #next-btn { background: var(--primary); color: white; box-shadow: 0 5px 15px rgba(72, 52, 212, 0.4); }
        #whatsapp-btn { background: #25D366; color: white; display: none; }
        
        #result-area { display: none; text-align: center; }
    </style>
</head>
<body>

<audio id="sound-correct" src="https://assets.mixkit.co/active_storage/sfx/2000/2000-preview.mp3"></audio>
<audio id="sound-wrong" src="https://assets.mixkit.co/active_storage/sfx/2019/2019-preview.mp3"></audio>

<div class="quiz-container">
    <div id="tie-breaker-badge" class="badge">ğŸ”¥ ØªØ­Ø¯ÙŠ Ø§Ù„Ø£Ø°ÙƒÙŠØ§Ø¡ (Ø³Ø¤Ø§Ù„ ÙƒØ³Ø± Ø§Ù„ØªØ¹Ø§Ø¯Ù„)</div>
    <h1>Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ©</h1>
    <div class="subtitle">Ø§Ù„Ù…Ø§Ø¬Ø³ØªÙŠØ± Ø§Ù„Ù…ØµØºØ± - Ø§Ø®ØªØ¨Ø§Ø± Ù‚ÙˆÙ‰ Ø¨ÙˆØ±ØªØ± ğŸ“</div>
    <div class="progress-bar"><div id="progress"></div></div>

    <div id="quiz-body">
        <div class="question" id="q-text"></div>
        <div class="options" id="q-options"></div>
        <div id="feedback" class="feedback-box"></div>
        <button id="next-btn" style="display:none;">Ø§Ù„ØªØ§Ù„ÙŠ â®•</button>
    </div>

    <div id="result-area">
        <h2 style="font-size: 2.2em; color: var(--primary);">Ø£Ø­Ø³Ù†Øª Ø§Ù„Ø¹Ù…Ù„! ğŸ‰</h2>
        <div id="final-score" style="font-size: 1.8em; margin: 20px 0; font-weight: bold; color: var(--success);"></div>
        <p style="font-size: 1.1em; color: #555;">Ù„Ù‚Ø¯ Ø£ÙƒÙ…Ù„Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø¨Ù†Ø¬Ø§Ø­. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø²Ø± Ù„Ø¥Ø±Ø³Ø§Ù„ Ù†ØªÙŠØ¬ØªÙƒ Ù„Ù„Ø¥Ø¯Ø§Ø±Ø©.</p>
        <button id="whatsapp-btn">Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø¹Ø¨Ø± ÙˆØ§ØªØ³Ø§Ø¨ âœ…</button>
    </div>
</div>

<script>
    const questions = [
        { q: "Ø£Ù†Øª ØªÙ…Ù„Ùƒ ØªØ·Ø¨ÙŠÙ‚Ø§Ù‹ Ù„ØªÙˆØµÙŠÙ„ Ø§Ù„Ø·Ø¹Ø§Ù…ØŒ ÙØ¬Ø£Ø© Ù‚Ø§Ù…Øª 'Ø¬ÙˆØ¬Ù„' Ø¨Ø¥Ø·Ù„Ø§Ù‚ ØªØ·Ø¨ÙŠÙ‚ Ù…Ø´Ø§Ø¨Ù‡. Ù…Ø§ Ù‡ÙŠ Ø§Ù„Ù‚ÙˆØ© Ø§Ù„ØªÙŠ ØªÙ‡Ø¯Ø¯ÙƒØŸ", options: ["ØªÙ‡Ø¯ÙŠØ¯ Ø§Ù„Ø¯Ø§Ø®Ù„ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯", "Ù‚ÙˆØ© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†", "ØªÙ‡Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„"], correct: 0, explain: "Ø¯Ø®ÙˆÙ„ Ø´Ø±ÙƒØ© Ø¹Ù…Ù„Ø§Ù‚Ø© Ù„Ù„Ø³ÙˆÙ‚ ÙŠØ¹Ù†ÙŠ ÙˆØ§ÙØ¯ Ø¬Ø¯ÙŠØ¯ ÙŠÙ…Ù„Ùƒ Ø¥Ù…ÙƒØ§Ù†ÙŠØ§Øª Ø¶Ø®Ù…Ø©." },
        { q: "Ø¥Ø°Ø§ ÙƒÙ†Øª ØªØµÙ†Ø¹ Ù‡ÙˆØ§ØªÙ Ø°ÙƒÙŠØ©ØŒ ÙˆÙ„Ø§ ÙŠÙˆØ¬Ø¯ ÙÙŠ Ø§Ù„Ø¹Ø§Ù„Ù… Ø¥Ù„Ø§ Ø´Ø±ÙƒØªÙŠÙ† ÙÙ‚Ø· ØªØµÙ†Ø¹Ø§Ù† Ø§Ù„Ø´Ø§Ø´Ø§ØªØŒ ÙÙ…Ø§ ÙˆØ¶Ø¹ÙƒØŸ", options: ["Ù‚ÙˆØ© Ø§Ù„Ù…Ø´ØªØ±ÙŠÙ† Ø¹Ø§Ù„ÙŠØ©", "Ù‚ÙˆØ© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† Ø¹Ø§Ù„ÙŠØ©", "Ø§Ù„Ù…Ù†Ø§ÙØ³Ø© Ù…Ù†Ø®ÙØ¶Ø©"], correct: 1, explain: "Ø§Ù„Ù…ÙˆØ±Ø¯ÙˆÙ† Ù‚Ù„Ø© Ù„Ø°Ø§ ÙŠØªØ­ÙƒÙ…ÙˆÙ† ÙÙŠ Ø§Ù„Ø³Ø¹Ø± ÙˆØ§Ù„Ø´Ø±ÙˆØ·." },
        { q: "Ø²Ø§Ø¯Øª Ø´Ù‡Ø±Ø© 'Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù† Ø¨Ø¹Ø¯' ÙÙ‚Ù„Ù‘ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ù„Ù‰ Ø§Ø³ØªØ¦Ø¬Ø§Ø± Ø§Ù„Ù…ÙƒØ§ØªØ¨ Ø§Ù„Ø¥Ø¯Ø§Ø±ÙŠØ©. Ù…Ø§ ØªÙˆØµÙŠÙ 'Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù† Ø¨Ø¹Ø¯' Ù‡Ù†Ø§ØŸ", options: ["Ù…Ù†Ø§ÙØ³ Ù…Ø¨Ø§Ø´Ø±", "Ù…Ù†ØªØ¬ Ø¨Ø¯ÙŠÙ„", "Ù‚ÙˆØ© Ù…Ø´ØªØ±ÙŠÙ†"], correct: 1, explain: "Ø§Ù„Ø¹Ù…Ù„ Ø¹Ù† Ø¨Ø¹Ø¯ Ø­Ù„ Ø¨Ø¯ÙŠÙ„ ÙŠÙ„ØºÙŠ Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù„Ù…Ù†ØªØ¬ Ø§Ù„Ø£ØµÙ„ÙŠ ØªÙ…Ø§Ù…Ø§Ù‹." },
        { q: "ØªØ®ÙŠÙ„ Ø£Ù†Ùƒ ØªØ¨ÙŠØ¹ 'Ù…Ø§Ø¡' ÙÙŠ Ù…Ù†Ø·Ù‚Ø© ÙÙŠÙ‡Ø§ 50 Ø´Ø±ÙƒØ© ØªØ¨ÙŠØ¹ Ù†ÙØ³ Ø§Ù„Ù…Ø§Ø¡. Ù‡Ø°Ø§ ÙŠØ¤Ø¯ÙŠ Ø¥Ù„Ù‰:", options: ["Ø§Ø±ØªÙØ§Ø¹ Ø§Ù„Ø£Ø±Ø¨Ø§Ø­", "Ø´Ø¯Ø© Ø§Ù„Ù…Ù†Ø§ÙØ³Ø© (Ø­Ø±Ø¨ Ø£Ø³Ø¹Ø§Ø±)", "Ø²ÙŠØ§Ø¯Ø© Ù‚ÙˆØ© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†"], correct: 1, explain: "ØªÙ…Ø§Ø«Ù„ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª ÙˆÙƒØ«Ø±Ø© Ø§Ù„Ø´Ø±ÙƒØ§Øª ØªØ¬Ø¹Ù„ Ø§Ù„Ø³Ø¹Ø± Ù‡Ùˆ Ø§Ù„Ø¹Ø§Ù…Ù„ Ø§Ù„ÙˆØ­ÙŠØ¯ Ù„Ù„Ù…Ù†Ø§ÙØ³Ø©." },
        { q: "Ø¹Ù…ÙŠÙ„ ÙˆØ§Ø­Ø¯ ÙŠØ´ØªØ±ÙŠ 80% Ù…Ù† Ø¥Ù†ØªØ§Ø¬ Ù…ØµÙ†Ø¹Ùƒ. Ù‡Ø°Ø§ Ø§Ù„Ø¹Ù…ÙŠÙ„ ÙŠÙ…Ù„Ùƒ:", options: ["Ù‚ÙˆØ© ØªÙØ§ÙˆØ¶ÙŠØ© Ø¹Ø§Ù„ÙŠØ©", "Ù‚ÙˆØ© ØªÙØ§ÙˆØ¶ÙŠØ© Ù…Ù†Ø®ÙØ¶Ø©", "ÙˆÙ„Ø§Ø¡ Ù…Ø·Ù„Ù‚"], correct: 0, explain: "Ø§Ø¹ØªÙ…Ø§Ø¯Ùƒ Ø§Ù„ÙƒÙ„ÙŠ Ø¹Ù„ÙŠÙ‡ ÙŠØ¬Ø¹Ù„Ù‡ Ù…ØªØ­ÙƒÙ…Ø§Ù‹ ÙÙŠ Ø´Ø±ÙˆØ· Ø§Ù„Ø¨ÙŠØ¹." },
        { q: "Ù„Ù…Ø§Ø°Ø§ ÙŠØµØ¹Ø¨ Ø§Ù„Ø¨Ø¯Ø¡ Ø¨Ø´Ø±ÙƒØ© ØªØµÙ†ÙŠØ¹ Ø·Ø§Ø¦Ø±Ø§Øª Ù…Ù†Ø§ÙØ³Ø© Ù„Ø¨ÙˆÙŠÙ†Ø¬ØŸ", options: ["Ø¨Ø³Ø¨Ø¨ Ù‚ÙˆØ© Ø§Ù„Ù…Ø´ØªØ±ÙŠÙ†", "Ø¨Ø³Ø¨Ø¨ Ø¹ÙˆØ§Ø¦Ù‚ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„ÙŠØ©", "Ø¨Ø³Ø¨Ø¨ Ø§Ù„Ù…Ù†ØªØ¬Ø§Øª Ø§Ù„Ø¨Ø¯ÙŠÙ„Ø©"], correct: 1, explain: "Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ Ø§Ù„Ù‡Ø§Ø¦Ù„Ø© ÙˆØ§Ù„ØªØ¹Ù‚ÙŠØ¯ Ø§Ù„ØªÙ‚Ù†ÙŠ ÙŠÙ…Ù†Ø¹Ø§Ù† Ø¯Ø®ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† Ø§Ù„Ø¬Ø¯Ø¯." },
        { q: "Ø´Ø±ÙƒØ© 'Ø³ØªØ§Ø±Ø¨ÙƒØ³' ØªÙ‚Ø¯Ù… ØªØ¬Ø±Ø¨Ø© ÙˆÙ…Ø°Ø§Ù‚Ø§Ù‹ Ø®Ø§ØµØ§Ù‹ØŒ Ù…Ù…Ø§ ÙŠØ¬Ø¹Ù„ Ø§Ù„Ø²Ø¨Ø§Ø¦Ù† Ù„Ø§ ÙŠØ°Ù‡Ø¨ÙˆÙ† Ù„Ù„Ù…Ù‚Ø§Ù‡ÙŠ Ø§Ù„Ø£Ø±Ø®Øµ. Ù‡ÙŠ Ù‡Ù†Ø§ ØªØ¶Ø¹Ù Ø£ÙŠ Ù‚ÙˆØ©ØŸ", options: ["Ù‚ÙˆØ© Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ†", "Ù‚ÙˆØ© Ø§Ù„Ù…Ø´ØªØ±ÙŠÙ† (Ø¹Ù† Ø·Ø±ÙŠÙ‚ Ø§Ù„ØªÙ…ÙŠØ²)", "ØªÙ‡Ø¯ÙŠØ¯ Ø§Ù„Ø¨Ø¯Ø§Ø¦Ù„"], correct: 1, explain: "Ø§Ù„ØªÙ…ÙŠØ² (Differentiation) ÙŠÙ‚Ù„Ù„ Ø­Ø³Ø§Ø³ÙŠØ© Ø§Ù„Ø¹Ù…ÙŠÙ„ ØªØ¬Ø§Ù‡ Ø§Ù„Ø³Ø¹Ø±." },
        { q: "Ø¸Ù‡ÙˆØ± Ø§Ù„Ø³ÙŠØ§Ø±Ø§Øª Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ© ÙŠØ¹ØªØ¨Ø± Ù…Ø§Ø°Ø§ Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ù„Ø´Ø±ÙƒØ§Øª ØªØµÙ†ÙŠØ¹ Ù…Ø­Ø±ÙƒØ§Øª Ø§Ù„Ø¨Ù†Ø²ÙŠÙ†ØŸ", options: ["Ù…Ù†Ø§ÙØ³ Ù…Ø¨Ø§Ø´Ø±", "Ù…Ù†ØªØ¬ Ø¨Ø¯ÙŠÙ„", "Ù‚ÙˆØ© Ù…ÙˆØ±Ø¯ÙŠÙ†"], correct: 1, explain: "Ø§Ù„Ø¨Ø¯ÙŠÙ„ Ù‡Ùˆ ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ù…Ø®ØªÙ„ÙØ© ØªÙ„Ø¨ÙŠ Ù†ÙØ³ Ø§Ù„ØºØ±Ø¶ Ø¨Ø·Ø±ÙŠÙ‚Ø© Ø£Ø®Ø±Ù‰." },
        { q: "Ø¥Ø°Ø§ Ù‚Ø±Ø±Øª Ø§Ù„Ø­ÙƒÙˆÙ…Ø© ÙØ±Ø¶ ØªØ±Ø®ÙŠØµ ÙŠÙƒÙ„Ù 10 Ù…Ù„ÙŠÙˆÙ† Ø¯ÙˆÙ„Ø§Ø± Ù„Ø£ÙŠ Ø´Ø±ÙƒØ© ØªØ£Ù…ÙŠÙ† Ø¬Ø¯ÙŠØ¯Ø©ØŒ Ù‡Ø°Ø§ ÙŠØ¤Ø¯ÙŠ Ù„Ù€:", options: ["Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯ Ø¨Ø¯Ø®ÙˆÙ„ Ù…Ù†Ø§ÙØ³ÙŠÙ†", "ØªÙ‚Ù„ÙŠÙ„ Ø§Ù„ØªÙ‡Ø¯ÙŠØ¯ Ø¨Ø¯Ø®ÙˆÙ„ Ù…Ù†Ø§ÙØ³ÙŠÙ†", "Ø²ÙŠØ§Ø¯Ø© Ù‚ÙˆØ© Ø§Ù„Ù…Ø´ØªØ±ÙŠÙ†"], correct: 1, explain: "Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¹Ø§Ù„ÙŠØ© Ù‡ÙŠ 'Ø¹Ø§Ø¦Ù‚ Ø¯Ø®ÙˆÙ„' ÙŠØ­Ù…ÙŠ Ø§Ù„Ø´Ø±ÙƒØ§Øª Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©." },
        { q: "Ø£ÙØ¶Ù„ ÙˆØ¶Ø¹ Ø§Ø³ØªØ±Ø§ØªÙŠØ¬ÙŠ Ù„Ù„Ø´Ø±ÙƒØ© Ù‡Ùˆ Ø¹Ù†Ø¯Ù…Ø§ ØªÙƒÙˆÙ† Ø§Ù„Ù‚ÙˆÙ‰ Ø§Ù„Ø®Ù…Ø³:", options: ["Ø¬Ù…ÙŠØ¹Ù‡Ø§ Ù‚ÙˆÙŠØ© Ø¬Ø¯Ø§Ù‹", "Ø¬Ù…ÙŠØ¹Ù‡Ø§ Ø¶Ø¹ÙŠÙØ© Ø£Ùˆ Ù…Ù†Ø®ÙØ¶Ø©", "Ù…ØªÙˆØ³Ø·Ø© Ø§Ù„Ù‚ÙˆØ©"], correct: 1, explain: "Ø¶Ø¹Ù Ø§Ù„Ù‚ÙˆÙ‰ ÙŠØ¹Ù†ÙŠ Ø¨ÙŠØ¦Ø© Ù…Ø±ÙŠØ­Ø© Ù„ØªØ­Ù‚ÙŠÙ‚ Ø£Ø±Ø¨Ø§Ø­ Ù…Ø³ØªØ¯Ø§Ù…Ø©." },
        { 
            q: "ØªØ­Ø¯ÙŠ ÙƒØ³Ø± Ø§Ù„ØªØ¹Ø§Ø¯Ù„: Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ù‚ÙˆÙ‰ Ø§Ù„Ø®Ù…Ø³ ÙƒÙ„Ù‡Ø§ (Ø¹Ø§Ù„ÙŠØ© Ø¬Ø¯Ø§Ù‹) ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³Ø© Ù…Ø¯Ù…Ø±Ø©ØŒ Ù…Ø§ Ù‡Ùˆ Ø§Ù„Ù‚Ø±Ø§Ø± Ø§Ù„Ø£Ù†Ø³Ø¨ØŸ", 
            options: ["Ø­Ø±Ø¨ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù„Ù„Ø¨Ù‚Ø§Ø¡", "Ø§Ø³ØªÙ‡Ø¯Ø§Ù Ø´Ø±ÙŠØ­Ø© Ù…ØªØ®ØµØµØ© (Focus Strategy)", "Ø²ÙŠØ§Ø¯Ø© Ø§Ù„Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø¶Ø®Ù…"], 
            correct: 1, 
            explain: "ÙÙŠ Ø§Ù„Ø¨ÙŠØ¦Ø§Øª Ø¹Ø§Ù„ÙŠØ© Ø§Ù„Ù…Ø®Ø§Ø·Ø±ØŒ Ø§Ù„ØªØ®ØµØµ (Niche Market) Ù‡Ùˆ Ø§Ù„Ø³Ø¨ÙŠÙ„ Ø§Ù„ÙˆØ­ÙŠØ¯ Ù„Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø¨Ø­ÙŠØ© Ø¨Ø¹ÙŠØ¯Ø§Ù‹ Ø¹Ù† Ø§Ù„ØµØ±Ø§Ø¹Ø§Øª Ø§Ù„ÙƒØ¨Ø±Ù‰." 
        }
    ];

    let current = 0, score = 0;
    const qText = document.getElementById('q-text'), qOptions = document.getElementById('q-options'),
          feedback = document.getElementById('feedback'), nextBtn = document.getElementById('next-btn'),
          prog = document.getElementById('progress'), badge = document.getElementById('tie-breaker-badge');

    function loadQuestion() {
        const q = questions[current];
        if(current === 10) badge.style.display = 'block'; else badge.style.display = 'none';
        
        qText.innerText = `Ø³${current + 1}: ${q.q}`;
        qOptions.innerHTML = ''; feedback.style.display = 'none'; nextBtn.style.display = 'none';
        prog.style.width = (current / questions.length * 100) + '%';
        
        q.options.forEach((opt, i) => {
            const btn = document.createElement('button'); btn.className = 'option-btn';
            btn.innerText = opt; btn.onclick = () => checkAnswer(i); qOptions.appendChild(btn);
        });
    }

    function checkAnswer(i) {
        const q = questions[current];
        const btns = document.querySelectorAll('.option-btn');
        btns.forEach(b => b.disabled = true);
        feedback.style.display = 'block';
        if(i === q.correct) {
            score++; feedback.className = 'feedback-box correct';
            feedback.innerText = "âœ… ØµØ­ÙŠØ­! " + q.explain; document.getElementById('sound-correct').play();
        } else {
            feedback.className = 'feedback-box wrong';
            feedback.innerText = "âŒ Ø®Ø·Ø£. Ø§Ù„Ø¥Ø¬Ø§Ø¨Ø© Ø§Ù„ØµØ­ÙŠØ­Ø© Ù‡ÙŠ: " + q.options[q.correct]; document.getElementById('sound-wrong').play();
        }
        nextBtn.style.display = 'block';
    }

    nextBtn.onclick = () => {
        current++;
        if(current < questions.length) loadQuestion();
        else {
            document.getElementById('quiz-body').style.display = 'none';
            document.getElementById('result-area').style.display = 'block';
            document.getElementById('final-score').innerText = `Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† 11`;
            document.getElementById('whatsapp-btn').style.display = 'block';
            prog.style.width = '100%';
        }
    };

    document.getElementById('whatsapp-btn').onclick = () => {
        const msg = encodeURIComponent(`Ù…Ø±Ø­Ø¨Ø§Ù‹ Ù…Ù†ØµØ© Ø§Ù„Ø¨Ø±Ø§Ù…Ø¬ Ø§Ù„ØªØ®ØµØµÙŠØ©ØŒ Ù„Ù‚Ø¯ Ø£ØªÙ…Ù…Øª Ø§Ø®ØªØ¨Ø§Ø± "Ù‚ÙˆÙ‰ Ø¨ÙˆØ±ØªØ± Ø§Ù„Ø®Ù…Ø³" Ø§Ù„Ù…Ø·ÙˆØ± Ø¨Ù†Ø¬Ø§Ø­.\nØ§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©: ${score} Ù…Ù† 11.\n(ØªØªØ¶Ù…Ù† Ø³Ø¤Ø§Ù„ ÙƒØ³Ø± Ø§Ù„ØªØ¹Ø§Ø¯Ù„) ğŸ†`);
        window.open(`https://wa.me/249901946410?text=${msg}`);
    };

    loadQuestion();
</script>
</body>
</html>
